<ion-header>
  <ion-toolbar color="primary">
    <ion-title text-center>
      <img src="../../../assets/icon/logo.png" alt="" width="15%" height="15%">
    </ion-title>
    <ion-buttons slot="end">
      <ion-button size="large" (click)="OnLogOut()">
        <ion-icon name="exit" style="font-size: 40px"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content padding color="medium">
  <ion-card-title text-center class="partes">PARTES ABIERTOS</ion-card-title>

  <ion-item-sliding *ngFor="let inc of incidenceArray">
    <div [ngSwitch]="inc.state">
      <div *ngSwitchCase="'damageList'">

        <ion-item (click)="goIncident(inc)" color="medium">
          <ion-avatar >
            <img src="assets/icon/notepad.png">
          </ion-avatar>
          <h2 style="margin-left: 5%;color: black">{{ inc.idInc }}</h2>
          <h2 class="text-center">{{inc.idCar}}</h2>
          <h2 style="color: black" slot="end">{{inc.date}}</h2>
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option (click)="deleteIncidence(inc)" color="danger">
            <ion-icon name="trash" slot="icon-only"></ion-icon>
          </ion-item-option>
        </ion-item-options>

      </div>
      <div *ngSwitchDefault>
        <ion-item (click)="goIncident(inc)" color="medium">
          <ion-avatar >
            <img src="assets/icon/damage.png">
          </ion-avatar>
          <h2 style="margin-left: 5%;color: black">{{ inc.idInc }}</h2>
          <h2 class="text-center">{{inc.idCar}}</h2>
          <h2 style="color: black" slot="end">{{inc.date}}</h2>
        </ion-item>
        <ion-item-options side="end">
          <ion-item-option (click)="deleteIncidence(inc)" color="danger">
            <ion-icon name="trash" slot="icon-only"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </div>
    </div>
  </ion-item-sliding>
  <ion-item *ngIf="incidenceArray.length == 0">
    <ion-text>No hay partes abiertos</ion-text>
  </ion-item>
</ion-content>

<ion-footer no-border>
  <ion-toolbar color="medium">
    <ion-button (click)="IrForm()" expand="block">
      <ion-icon name="add-circle-outline" style="font-size: 40px "></ion-icon>
      <h1 class="text-button">Nueva incidencia</h1>
    </ion-button>
  </ion-toolbar>

</ion-footer>